<div
  data-sidebar
  data-id='{{- item.id -}}'
  class='translate-x-full transition-transform duration-300 flex-col fixed top-0 right-0 bottom-0 h-full w-[355px] lg:w-[600px] z-20 bg-white p-4 lg:py-7 lg:px-[60px] is-active:-translate-x-0'
>
  <button
    data-close-sidebar-btn
    data-id='{{- item.id -}}'
    class='absolute p-3 rounded-full border border-grey-5 top-4 right-4 lg:right-7 lg:top-7'
  >
    {%- render 'component.icon', type: 'close', class: 'h-[1em]' -%}
  </button>
  <div class='flex gap-4 lg:gap-7 border-b border-b-grey-4 pt-6 lg:pt-10 pb-5 lg:pb-7 overflow-hidden'>
    <div class='min-w-[110px] lg:min-w-[120px] w-min bg-grey-6 aspect-square relative'>
      {%- unless is_collection -%}
        {%- render 'component.image',
          img: item.image,
          class: 'aspect-square object-contain mix-blend-darken'
        -%}
      {%- elsif item.featured_image -%}
        {%- render 'component.image',
          img: item.featured_image,
          class: 'aspect-square object-contain mix-blend-darken'
        -%}
      {%- else -%}
        {%- render 'image-placeholder' -%}
      {%- endunless -%}
    </div>
    <div class='self-center'>
      <p title='{{- item.title -}}' class='truncate max-w-[150px] lg:max-w-[330px]'>
        {{- item.title -}}
      </p>
      <p class='text-detailed text-grey-3'>{{- item.metafields.color.value -}}</p>
      <p class='text-detailed mt-2'>{{- item.price | money -}}</p>
      {%- if is_collection -%}
        <a class='text-detailed mt-2 underline' href='{{- item.url -}}'>
          {{- 'general.more_info' | t -}}
        </a>
      {%- endif -%}
    </div>
  </div>
  <div class='flex flex-col justify-between'>
    <form>
      {%- unless is_collection -%}
        {%- render 'product-sizes', product: item.product -%}
      {%- else -%}
        {%- render 'product-sizes', product: item -%}
      {%- endunless -%}
      {%- liquid
        capture button_text
          if is_collection
            echo 'collections.add_to_cart'
          else
            echo 'cart.general.update_order'
          endif
        endcapture
        capture button_attributes
          if is_collection
            echo 'data-add-to-cart-btn data-id="' | append: item.id | append: '"'
          else
            echo 'data-update-order-btn data-id="' | append: item.id | append: '"'
          endif
        endcapture
      -%}
      {%- render 'component.button',
        style: 'primary',
        text: button_text,
        class: 'w-full mt-4',
        attributes: button_attributes
      -%}
    </form>
  </div>
</div>
