(()=>{"use strict";function e(e=document.body,t="js-"){const n=[...e.querySelectorAll(t?`[class*="${t}"]`:"*")],o=t?"classList":"dataset";return n.reduce(((e,n)=>([].slice.call(t?n[o]:Object.entries(n[o])).forEach((o=>{let a;t&&o.slice(0,t.length)===t?a=o.slice(t.length,o.length):t||([a]=o),a&&(e[a]=e.hasOwnProperty(a)?e[a].constructor===Array?e[a].concat(n):[e[a],n]:n)})),e)),{})}const t=window.component((async t=>{const{video:n,source:o}=e(t,null),{desktopSource:a,mobileSource:r}=n.dataset,c=async()=>{window.innerWidth>=1024&&a&&o.src!==a?(o.src=a,n.load(),await n.play(),n.classList.add("display")):window.innerWidth<1024&&r&&o.src!==r&&(o.src=r,n.load(),await n.play(),n.classList.add("display"))};window.addEventListener("resize",c,{passive:!0}),window.addEventListener("load",(()=>{c()}),{passive:!0})})),n=e=>new Promise((t=>{window?.hasLoaded?.scripts?.[e]?t():window.app.on(`${e}:loaded`,t)})),o={hero:t,categoryOverview:window.component((async t=>{const{slider:o}=e(t,null);return await n("Swiper"),new Swiper(o,{allowTouchMove:!0,direction:"horizontal",slidesPerView:"auto",grabCursor:!0})}))},a=window.component((()=>{document.addEventListener("shopify:section:load",(()=>{window.app.unmount(),window.app.mount()}))})),r=window.component((e=>{const{text:t}=e.dataset;console.log("console:log",t)})),c=window.component(((t,n)=>{const{group:o}=t.dataset,{inner:a,toggle:r}=e(t,null),c="open",i=()=>{t.style.setProperty("--innerHeight","auto"),t.style.setProperty("--innerHeight",`${a.scrollHeight}px`)};i(),window.addEventListener("resize",i,{passive:!0}),r.addEventListener("click",(()=>{n.emit("accordion:toggle",null,{open:!t.classList.contains(c),node:t,group:o})})),n.on("accordion:toggle",((e,n={})=>{o===n.group&&t.classList[n.open&&n.node===t?"add":"remove"](c)}))})),i=window.component(((t,n)=>{const{cartCount:o,cartToggle:a}=e(t,null),r=e=>{e?.token&&(o.textContent=e.item_count)};n.on("cart:updated",(({cart:e})=>r(e))),a.addEventListener("click",(e=>{e.preventDefault(),n.emit("cart:toggle",(({cartOpen:e})=>({cartOpen:!e??!0})))})),r(n.getState()?.cart)}));const d=({keyCode:e},{type:t,boolean:n})=>{27===e&&t&&n&&window.app.emit(t,{[n]:!1})},s={sectionRendering:a,consoleLog:r,accordion:c,header:i,cartDrawer:window.component((async(t,n)=>{const o=t.parentNode,a=t,{toggle:r,clear:c,focusEl:i}=e(t,null),s=({cartOpen:e})=>{t.classList[e?"add":"remove"]("open"),e?(a.tabIndex="0",(i||t).focus()):a.tabIndex="-1"};return r.forEach((e=>{e.addEventListener("click",(()=>n.emit("cart:toggle",(({cartOpen:e})=>({cartOpen:!e??!0})))))})),s(n.getState()),c&&c.addEventListener("click",(()=>(window.app.emit("cart:updating"),fetch(`${window.Phill.routes.cartClear}.js`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sections:"cart-drawer"})}).then((e=>e.json())).then((e=>(window.app.emit(["cart:updated","cart:render"],{cart:e}),e)))))),t.addEventListener("keyup",(e=>d(e,{type:"cart:toggle",boolean:"cartOpen"}))),await n.on("cart:render",(({cart:e})=>{o&&(document.getElementById("shopify-section-cart-drawer").outerHTML=e.sections["cart-drawer"]),window.app.unmount(),window.app.mount()})),n.on("cart:toggle",s),()=>{n.on(["cart:toggle","cart:render"],(()=>{}))(),t.removeEventListener("keyup",(e=>d(e,{type:"cart:toggle",boolean:"cartOpen"})))}})),cartItem:window.component((t=>{const{update:n}=e(t,null),{key:o}=t.dataset;[].concat(n).forEach((e=>{const{value:t}=e.dataset;e.addEventListener("click",(()=>function(e,t){return function(e,t){return window.app.emit("cart:updating"),fetch(`${window.Phill.routes.cartChange}.js`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,quantity:t,sections:"cart-drawer"})}).then((e=>e.json())).then((async e=>(window.app.emit(["cart:updated","cart:render"],{cart:e}),e)))}(e,t)}(o,t)))}))})),heroSlider:window.component((async t=>{const{slider:o,slide:a,prev:r,next:c}=e(t,null);if(a.length>1){await n("Swiper");const e=new Swiper(o,{slidesPerView:1,loop:!0});r.addEventListener("click",(()=>e.slidePrev())),c.addEventListener("click",(()=>e.slideNext()))}}))};window.app.add(o),window.app.add(s),window.app.mount()})();