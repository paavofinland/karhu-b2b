(()=>{"use strict";function e(e=document.body,t){const s=[...e.querySelectorAll(t?`[class*="${t}"]`:"*")],i=t?"classList":"dataset";return s.reduce(((e,s)=>([].slice.call(t?s[i]:Object.entries(s[i])).forEach((i=>{let r;t&&i.slice(0,t.length)===t?r=i.slice(t.length,i.length):t||([r]=i),r&&(e[r]=e.hasOwnProperty(r)?e[r].constructor===Array?e[r].concat(s):[e[r],s]:s)})),e)),{})}const t=window.component(((t,s)=>{const{size:i,sizeButton:r,quantityInputs:a,addToCartButton:o,error:n}=e(t),{translations:{server_error:l,select_sizes_error:c}}=JSON.parse(document.querySelector("script#liquid-variables").innerHTML),d=[].concat(i).filter(Boolean),w=[].concat(r).filter(Boolean),u=[].concat(a).filter(Boolean),{state:p}=e(o),m=[].concat(p);console.log(l);const v=(e=!0)=>{m.forEach((t=>{t.style.transition=e?"":"unset"}))},h=(e="")=>{n.innerHTML=e};let g;t.addEventListener("submit",(async e=>{e.preventDefault(),h(),v(),g&&clearTimeout(g),o.classList.add("is-loading"),o.classList.remove("is-active"),o.disabled=!0;const t=new FormData(e.target),i=Array.from(t.entries()).filter((([e])=>e.endsWith("[quantity]"))).map((([,e])=>Number(e)));try{if(0===i.filter((e=>e>0)).length)throw Error(c);const e=await fetch(`${window.Shopify.routes.root}cart/add.js`,{method:"POST",body:t}),r=await e.json();if(200!==e.status&&r.description)throw Error(r.description);if(200!==e.status)throw Error(l);o.classList.remove("is-loading"),o.disabled=!1,s.emit("cart:update",null,{countAdd:i.reduce(((e,t)=>e+t),0)}),o.classList.add("is-active"),g=setTimeout((()=>{v(!1),o.classList.remove("is-active")}),2e3)}catch(e){h(e.message)}o.classList.remove("is-loading"),o.disabled=!1})),u.forEach((e=>{e.addEventListener("keypress",(e=>{h(),"0"===e.target.value&&(e.target.value=e.target.value.slice(1))}))})),w.forEach((e=>e.addEventListener("click",(t=>{const s=t.target.textContent.trim().toLowerCase();d.forEach((e=>{e.innerText=e.dataset[s]})),w.forEach((({classList:e})=>e.remove("is-active"))),e.classList.add("is-active")}))))})),s=e=>new Promise((t=>{window?.hasLoaded?.scripts?.[e]?t():window.app.on(`${e}:loaded`,t)})),i={productForm:t,productImages:window.component((async t=>{const{slider:i,thumbnailSlider:r,prev:a,next:o}=e(t),{slides:n}=t.dataset;if(!i)return;await s("Swiper");const l={slidesPerView:3.25,watchSlidesProgress:!0,breakpoints:{1024:{slidesPerView:Math.max(Math.min(Number(n),9.5),5)}},on:{beforeInit(e){e.$el.removeClass("is-loading")}}},c=new Swiper(r,l);new Swiper(i,{resizeObserver:!0,thumbs:{swiper:c,multipleActiveThumbs:!1,slideThumbActiveClass:"is-active"},navigation:{nextEl:o,prevEl:a},on:{beforeInit(e){e.$el.removeClass("is-loading")}}})})),productColors:window.component((async t=>{const{slider:i,slide:r,prev:a,next:o}=e(t),n=[].concat(r).length;await s("Swiper"),n>3&&new Swiper(i,{slidesPerView:3.5,spaceBetween:4,on:{beforeInit(e){e.$el.removeClass("is-loading")},navigationNext(e){(e.slides.length-1)/2<=4&&e.slideTo(e.slides.length-1)},navigationPrev(e){(e.slides.length-1)/2<=4&&e.slideTo(0)}},breakpoints:{768:{slidesPerView:5.5},1024:{slidesPerView:4,navigation:{nextEl:o,prevEl:a}}}})}))};window.app.add(i),window.app.mount()})();